# 	       SpringBoot大作业——安租接口文档

## 用户相关

### 用户

##### 用户添加

请求地址：http://~:8085/user/add

请求参数：

| 变量名   | 说明                 | 是否允许为空 |
| -------- | -------------------- | ------------ |
| account  | 用户账号即注册手机号 | 否           |
| password | 登录密码             | 否           |
| userName | 用户名               | 否           |

注册成功返回数据：

```
{
  "data": {
    "id": 11,
    "account": "12345",
    "password": "202cb962ac59075b964b07152d234b70",
    "username": "123",
    "balance": 0
  },
  "port": "200"
}
```

账户已存在返回数据：

```
{
  "msg": "该账户已存在",
  "port": "400"
}
```

注册失败返回数据：

```
{
  "msg": "添加异常",
  "port": "500"
}
```



##### 用户登录

请求地址：http://~:8085/user/login

请求参数：

| 变量名   | 说明     | 是否允许为空 |
| -------- | -------- | ------------ |
| account  | 用户账户 | 否           |
| password | 用户密码 | 否           |

登录成功返回数据：

```
{
  "data": {
    "id": 3,
    "account": "123",
    "password": "202cb962ac59075b964b07152d234b70",
    "username": "123456",
    "balance": 10
  },
  "port": "200"
}
```

无该账户注册信息返回数据：

```
{
  "msg": "无该用户",
  "port": "500"
}
```

密码错误返回数据：

```
{
  "msg": "密码错误",
  "port": "400"
}
```



##### 用户信息修改

请求地址：http://~:8085/user/modifyInfo

请求参数：

| 变量名   | 说明   | 是否允许为空 |
| -------- | ------ | ------------ |
| id       | 用户id | 否           |
| userName | 用户名 | 否           |

修改成功返回数据：

```
{
  "port": "200"
}
```

修改失败返回数据：

```
{
  "msg": "修改异常",
  "port": "500"
}
```



##### 用户密码修改

请求地址：http://~:8085/user/modifyPassword

请求参数：

| 变量名   | 说明         | 是否允许为空 |
| -------- | ------------ | ------------ |
| id       | 用户id       | 否           |
| password | 修改后的密码 | 否           |

修改成功返回数据：

```
{
  "port": "200"
}
```

修改失败返回数据：

```
{
  "msg": "修改异常",
  "port": "500"
}
```



##### 用户余额修改

请求地址：http://~:8085/user/modifyPassword

请求参数：

| 变量名     | 说明       | 是否允许为空 |
| ---------- | ---------- | ------------ |
| id         | 用户id     | 否           |
| difBalance | 余额更改值 | 否           |

修改成功返回数据：

```
{
  "port": "200"
}
```

修改失败返回数据：

```
{
  "msg": "修改异常",
  "port": "500"
}
```



##### 用户账户注销

请求地址：http://~:8085/user/deletebyid

请求参数：

| 变量名 | 说明   | 是否允许为空 |
| ------ | ------ | ------------ |
| id     | 用户id | 否           |

删除成功返回数据：

```
{
  "port": "200"
}
```



### 用户地址

##### 用户地址添加

请求地址：http://~:8085/user_address/add

| 变量名       | 说明                      | 是否允许为空 |
| ------------ | ------------------------- | ------------ |
| user_id      | 用户id                    | 否           |
| prov         | 省份                      | 否           |
| city         | 城市                      | 否           |
| area         | 区                        | 否           |
| detail       | 详细地址                  | 否           |
| name         | 收货人姓名                | 否           |
| tel          | 收货人联系号码            | 否           |
| address_code | 地址编号(前端api接口所需) | 否           |

添加成功返回数据：

```
{
  "port": "200"
}
```

添加失败返回数据：

```
{
  "port": "500"
  “msg”: "添加异常"
}
```



##### 用户地址修改

请求地址：http://~:8085/user_address/modify

| 变量名       | 说明                      | 是否允许为空 |
| ------------ | ------------------------- | ------------ |
| user_id      | 用户id                    | 否           |
| id           | 地址id                    | 否           |
| prov         | 省份                      | 否           |
| city         | 城市                      | 否           |
| area         | 区                        | 否           |
| detail       | 详细地址                  | 否           |
| name         | 收货人姓名                | 否           |
| tel          | 收货人联系号码            | 否           |
| address_code | 地址编号(前端api接口所需) | 否           |

修改成功返回数据：

```
{
  "port": "200"
}
```

修改失败返回数据：

```
{
  "port": "500"
  “msg”: "添加异常"
}
```



##### 用户默认地址修改

请求地址：http://~:8085/user_address/modifyDefault

请求参数：

| 变量名  | 说明               | 是否允许为空 |
| ------- | ------------------ | ------------ |
| id      | 修改后的默认地址id | 否           |
| user_id | 用户id             | 否           |

修改成功返回数据：

```
{
  "port": "200"
}
```

修改失败返回数据：

```
{
  "port": "500"
  “msg”: "添加异常"
}
```



##### 用户地址查找(根据id查找)

请求地址：http://~:8085/user_address/findById

请求参数：

| 变量名 | 说明   | 是否允许为空 |
| ------ | ------ | ------------ |
| id     | 地址id | 否           |

查找成功返回数据：

```
{
  "data": {
    "id": 1,
    "userId": 1,
    "prov": "123",
    "city": "123",
    "area": "123",
    "detail": "123",
    "name": "123",
    "tel": "123",
    "isDefault": 0,
    "addressCode": ""
  },
  "port": "200"
}
```

查找失败返回数据：

```
{
  "port": "500"
  “msg”: "无此地址"
}
```



##### 用户地址查询(根据用户id)

请求地址：http://~:8085/user_address/findAllByUserId

请求参数：

| 变量名  | 说明   | 是否允许为空 |
| ------- | ------ | ------------ |
| user_id | 用户id | 否           |

查找成功返回数据(默认地址排在首位)：

```
{
  "data": [
    {
      "id": 2,
      "userId": 1,
      "prov": "123",
      "city": "12",
      "area": "12",
      "detail": "12",
      "name": "12",
      "tel": "12",
      "isDefault": 1,
      "addressCode": ""
    },
    {
      "id": 1,
      "userId": 1,
      "prov": "123",
      "city": "123",
      "area": "123",
      "detail": "123",
      "name": "123",
      "tel": "123",
      "isDefault": 0,
      "addressCode": ""
    }
  ],
  "port": "200"
}
```

查找失败返回数据：

```
{
  "msg": "该用户尚未添加地址",
  "port": "500"
}
```



##### 用户地址删除

请求地址：http://localhost:8085/user_address/deletebyid

请求参数：

| 变量名 | 说明   | 是否允许为空 |
| ------ | ------ | ------------ |
| id     | 地址id | 否           |

查找成功返回数据(默认地址排在首位)：

```
{
  "port": "200"
}
```

查找失败返回数据：

```
{
  "msg": "删除异常",
  "port": "500"
}
```





### 用户购物车

##### 购物车信息增加

请求地址：http://~:8085/cart/add

请求参数：

| 变量名    | 说明     | 是否允许为空 |
| --------- | -------- | ------------ |
| goods_id  | 商品id   | 否           |
| goods_num | 商品数量 | 否           |
| user_id   | 用户id   | 否           |

添加成功：

```
{
  "port": "200"
}
```

添加失败

```
{
  "port": "500"
  “msg”: "添加异常"
}
```



##### 购物车商品数量修改

请求地址：http://~:8085/cart/modify

请求参数：

| 变量名    | 说明     | 是否允许为空 |
| --------- | -------- | ------------ |
| goods_num | 商品数量 | 否           |

修改成功：

```
{
  "port": "200"
}
```

修改失败

```
{
  "port": "500"
  “msg”: "修改异常"
}
```



##### 购物车商品删除

请求地址：http://~:8085/cart/deletebyid

请求参数：

| 变量名 | 说明         | 是否允许为空 |
| ------ | ------------ | ------------ |
| id     | 购物车信息id | 否           |

删除成功：

```
{
  "port": "200"
}
```

删除失败

```
{
  "port": "500"
  “msg”: "删除异常"
}
```



##### 购物车信息查找(根据购物车id)

请求地址：http://~:8085/cart/deletebyid

请求参数：

| 变量名 | 说明         | 是否允许为空 |
| ------ | ------------ | ------------ |
| id     | 购物车信息id | 否           |

查找成功：

```
{
  "data": {
    "id": 2,
    "userId": 1,
    "goodsId": 1,
    "goodsNum": 1
  },
  "port": "200"
}
```

查找失败

```
{
  "port": "500"
  “msg”: "无此购物车记录"
}
```



##### 购物车信息查找(根据用户id)

请求地址：http://~:8085/cart/deletebyid

请求参数：

| 变量名  | 说明   | 是否允许为空 |
| ------- | ------ | ------------ |
| user_id | 用户id | 否           |

查找成功：

```
{
  "data": [
    {
      "id": 2,
      "userId": 1,
      "goodsId": 1,
      "goodsNum": 1
    },
    {
      "id": 3,
      "userId": 1,
      "goodsId": 2,
      "goodsNum": 3
    }
  ],
  "port": "200"
}
```

查找失败

```
{
  "port": "500"
  “msg”: "无此用户购物车记录"
}
```



## 商品相关

### 类别

##### 类别添加

请求地址：http://~:8085/category/add?

请求参数：

| 变量名 | 说明     | 是否允许为空 |
| ------ | -------- | ------------ |
| name   | 类别名称 | 否           |

添加成功：

```
{
  "port": "200"
}
```

添加失败：

```
{
  "port": "500"
  “msg”: "添加异常"
}
```



##### 类别修改

请求地址：http://~:8085/category/add?

请求参数：

| 变量名 | 说明     | 是否允许为空 |
| ------ | -------- | ------------ |
| id     | 类别id   | 否           |
| name   | 类别名称 | 否           |

添加成功：

```
{
  "port": "200"
}
```

添加失败：

```
{
  "port": "500"
  “msg”: "修改异常"
}
```



##### 类别删除

请求地址：http://~:8085/category/deletebyid

请求参数：

| 变量名 | 说明   | 是否允许为空 |
| ------ | ------ | ------------ |
| id     | 类别id | 否           |

添加成功：

```
{
  "port": "200"
}
```

添加失败：

```
{
  "port": "500"
  “msg”: "删除异常"
}
```



##### 类别查找

请求地址：http://~:8085/category/deletebyid

请求参数：

| 变量名 | 说明   | 是否允许为空 |
| ------ | ------ | ------------ |
| id     | 类别id | 否           |

查找成功：

```
{
  "data": {
    "id": 1,
    "categoryName": "水果"
  },
  "port": "200"
}
```

查找失败：

```
{
  "msg": "无此类别",
  "port": "500"
}
```



##### 类别全查找

请求地址：http://~:8085/category/findAll

请求参数：

无

查找成功：

```
{
  "data": [
    {
      "id": 1,
      "categoryName": "水果"
    },
    {
      "id": 2,
      "categoryName": "数码产品"
    }
  ],
  "port": "200"
}
```

查找失败：

```
{
  "msg": "无此类别",
  "port": "500"
}
```

##### 

### 商品

##### 商品添加

请求地址：http://~:8085/goods/add

请求参数：

| 变量名      | 说明                                   | 是否允许为空 |
| ----------- | -------------------------------------- | ------------ |
| category_id | 类别id                                 | 否           |
| deposit     | 押金                                   | 否           |
| goods_name  | 商品名                                 | 否           |
| intro       | 商品介绍                               | 否           |
| lease_time  | 出租时间(转为ms)                       | 否           |
| merchant_id | 商家id                                 | 否           |
| mode        | 租赁类型 1以租代售 2先租后买 3先租后买 | 否           |
| pic_url     | 商品图片地址                           | 否           |
| price       | 商品价格                               | 否           |

添加成功：

```
{
  "port": "200"
}
```

添加失败：

```
{
  "msg": "添加异常"
  "port": "500"
}
```



##### 商品修改

请求地址：http://~:8085/goods/modify

请求参数：

| 变量名      | 说明                                   | 是否允许为空 |
| ----------- | -------------------------------------- | ------------ |
| category_id | 类别id                                 | 否           |
| deposit     | 押金                                   | 否           |
| goods_name  | 商品名                                 | 否           |
| intro       | 商品介绍                               | 否           |
| id          | 商品id                                 | 否           |
| lease_time  | 出租时间(转为ms)                       | 否           |
| merchant_id | 商家id                                 | 否           |
| mode        | 租赁类型 1以租代售 2先租后买 3先租后买 | 否           |
| pic_url     | 商品图片地址                           | 否           |
| price       | 商品价格                               | 否           |
| status      | 商品状态  -1=>下架,0=>审核中，1=>上架  | 否           |

添加成功：

```
{
  "port": "200"
}
```

添加失败：

```
{
  "msg": "添加异常"
  "port": "500"
}
```



##### 商品删除

请求地址：http://~:8085/goods/deletebyid

请求参数：

| 变量名 | 说明   | 是否允许为空 |
| ------ | ------ | ------------ |
| id     | 商品id | 否           |

删除成功：

```
{
  "port": "200"
}
```

添加失败：

```
{
  "msg": "删除异常"
  "port": "500"
}
```



##### 商品查找(shuffle返回)

请求地址：http://47.111.10.102:8085/goods/findAllShuffle

请求参数：无

查找成功：

```
{
  "data": [
    {
      "id": 3,
      "goodsName": "123",
      "price": 1,
      "categoryId": 1,
      "merchantId": 1,
      "intro": "213fsd",
      "status": 1,
      "picUrl": "1",
      "mode": 1,
      "deposit": 1213,
      "stock": 0,
      "sales": 0,
      "leaseTime": 123
    },
    {
      "id": 2,
      "goodsName": "123",
      "price": 1,
      "categoryId": 1,
      "merchantId": 1,
      "intro": "213fsd",
      "status": 1,
      "picUrl": "1",
      "mode": 1,
      "deposit": 1213,
      "stock": 0,
      "sales": 0,
      "leaseTime": 123
    }
  ],
  "port": "200"
}
```

查找失败：

```
{
  "msg": "尚无商品",
  "port": "500"
}
```



##### 商品查找(根据模式)

##### 商品查找(根据id)

请求地址：http://~:8085/goods/findById

请求参数：

| 变量名 | 说明   | 是否允许为空 |
| ------ | ------ | ------------ |
| id     | 商品id | 否           |

查找成功：

```
{
  "data": {
    "id": 2,
    "goodsName": "123",
    "price": 1,
    "categoryId": 1,
    "merchantId": 1,
    "intro": "213fsd",
    "status": 1,
    "picUrl": "1",
    "mode": 1,
    "deposit": 1213,
    "stock": 0,
    "sales": 0,
    "leaseTime": 123
  },
  "port": "200"
}
```

查找失败：

```
{
  "msg": "无此商品",
  "port": "500"
}
```



##### 商品查找(根据模式)

请求地址：http://~:8085/goods/findAllByMode

请求参数：

| 变量名 | 说明         | 是否允许为空 |
| ------ | ------------ | ------------ |
| mode   | 商品租赁模式 | 否           |

查找成功：

```
{
  "data": [
    {
      "id": 2,
      "goodsName": "123",
      "price": 1,
      "categoryId": 1,
      "merchantId": 1,
      "intro": "213fsd",
      "status": 1,
      "picUrl": "1",
      "mode": 1,
      "deposit": 1213,
      "stock": 0,
      "sales": 0,
      "leaseTime": 123
    },
    {
      "id": 3,
      "goodsName": "123",
      "price": 1,
      "categoryId": 1,
      "merchantId": 1,
      "intro": "213fsd",
      "status": 1,
      "picUrl": "1",
      "mode": 1,
      "deposit": 1213,
      "stock": 0,
      "sales": 0,
      "leaseTime": 123
    }
  ],
  "port": "200"
}
```

查找失败：

```
{
  "msg": "该模式尚无商品",
  "port": "500"
}
```



##### 商品查找(根据商家)

请求地址：http://~:8085/goods/findById

请求参数：

| 变量名      | 说明   | 是否允许为空 |
| ----------- | ------ | ------------ |
| merchant_id | 商家id | 否           |

查找成功：

```
{
  "data": [
    {
      "id": 2,
      "goodsName": "123",
      "price": 1,
      "categoryId": 1,
      "merchantId": 1,
      "intro": "213fsd",
      "status": 1,
      "picUrl": "1",
      "mode": 1,
      "deposit": 1213,
      "stock": 0,
      "sales": 0,
      "leaseTime": 123
    },
    {
      "id": 3,
      "goodsName": "123",
      "price": 1,
      "categoryId": 1,
      "merchantId": 1,
      "intro": "213fsd",
      "status": 1,
      "picUrl": "1",
      "mode": 1,
      "deposit": 1213,
      "stock": 0,
      "sales": 0,
      "leaseTime": 123
    }
  ],
  "port": "200"
}
```

查找失败：

```
{
  "msg": "该商家尚未添加商品",
  "port": "500"
}
```



##### 商品查找(根据类型)

请求地址：http://~:8085/goods/findById

请求参数：

| 变量名      | 说明   | 是否允许为空 |
| ----------- | ------ | ------------ |
| category_id | 类型id | 否           |

查找成功：

```
{
  "data": [
    {
      "id": 2,
      "goodsName": "123",
      "price": 1,
      "categoryId": 1,
      "merchantId": 1,
      "intro": "213fsd",
      "status": 1,
      "picUrl": "1",
      "mode": 1,
      "deposit": 1213,
      "stock": 0,
      "sales": 0,
      "leaseTime": 123
    },
    {
      "id": 3,
      "goodsName": "123",
      "price": 1,
      "categoryId": 1,
      "merchantId": 1,
      "intro": "213fsd",
      "status": 1,
      "picUrl": "1",
      "mode": 1,
      "deposit": 1213,
      "stock": 0,
      "sales": 0,
      "leaseTime": 123
    }
  ],
  "port": "200"
}
```

查找失败：

```
{
  "msg": "该类别尚无商品",
  "port": "500"
}
```



### 商品评价表

##### 商品评价添加

请求地址：http://~:8085/goods_statistic/

请求参数：

| 变量名   | 说明   | 是否允许为空 |
| -------- | ------ | ------------ |
| goods_id | 商品id | 否           |

添加成功：

```
{
  "port": "200"
}
```

添加失败

```
{
  "port": "500"
  "msg": "添加异常"
}
```



##### 商品评价累计

请求地址：http://~:8085/goods_statistic/modify

请求参数：

| 变量名         | 说明                    | 是否允许为空 |
| -------------- | ----------------------- | ------------ |
| goods_id       | 商品id                  | 否           |
| attitude_star  | 服务态度1~5             | 否           |
| desc_star      | 描述相符1~5             | 否           |
| logistics_star | 物流星级1~5             | 否           |
| rate           | 评价 好评 0 中评1 差评2 | 否           |

添加成功：

```
{
  "port": "200"
}
```

添加失败

```
{
  "port": "500"
  "msg": "添加异常"
}
```



##### 商品评价搜索

请求地址：http://localhost:8085/goods_statistic/findByGoodsId

请求参数：

| 变量名   | 说明   | 是否允许为空 |
| -------- | ------ | ------------ |
| goods_id | 商品id | 否           |





## 订单相关

### 订单表

##### 订单添加

请求地址：http://~:8085/goods_order/add

请求参数：

| 变量名       | 说明       | 是否允许为空 |
| ------------ | ---------- | ------------ |
| goods_id     | 商品id     | 否           |
| goods_num    | 商品数量   | 否           |
| user_address | 用户地址id | 否           |
| user_id      | 用户id     | 否           |

添加成功：

```
{
  "port": "200"
}
```

添加失败：

```
{
  "msg": "添加异常"
  "port": "500"
}
```



##### 商家地址更新

请求地址：http://~:8085/goods_order/modifyMerchantAddress

请求参数：

| 变量名              | 说明       | 是否允许为空 |
| ------------------- | ---------- | ------------ |
| id                  | 订单       | 否           |
| merchant_address_id | 商家地址id | 否           |

修改成功：

```
{
  "port": "200"
}
```

修改失败：

```
{
  "msg": "修改异常"
  "port": "500"
}
```



##### 订单状态修改

请求地址：http://~:8085/goods_order/modifyOrderStatus

请求参数：

| 变量名       | 说明                                                         | 是否允许为空 |
| ------------ | ------------------------------------------------------------ | ------------ |
| id           | 订单                                                         | 否           |
| order_status | 订单状态1已付款,2已发货,,3已签收,4已完成,5使用中,6,超时,-1退货申请,-2退货中,-3已退货,-4取消交易 -5商品返还中 | 否           |

修改成功：

```
{
  "port": "200"
}
```

修改失败：

```
{
  "msg": "修改异常"
  "port": "500"
}
```



##### 订单收货时间修改

请求地址：http://~:8085/goods_order/modifyReceivingTime

请求参数：

| 变量名         | 说明                                 | 是否允许为空 |
| -------------- | ------------------------------------ | ------------ |
| id             | 订单id                               | 否           |
| receiving_time | 收货时间 格式如：2018-05-26 05:36:48 | 否           |

修改成功：

```
{
  "port": "200"
}
```

修改失败：

```
{
  "msg": "修改异常"
  "port": "500"
}
```



##### 订单查询(根据订单id)

请求地址：http://~:8085/goods_order/findById

请求参数：

| 变量名 | 说明   | 是否允许为空 |
| ------ | ------ | ------------ |
| id     | 订单id | 否           |

查找成功：

```
{
  "data": {
    "id": 1,
    "userId": 1,
    "goodsId": 3,
    "merchantId": 1,
    "userAddressId": 123,
    "merchantAddressId": 33,
    "orderStatus": 10,
    "goodsNum": 3,
    "goodsTotalPrice": 3,
    "receivingTime": "2018-05-26T10:36:48.000+00:00",
    "leaseTime": 123,
    "deposit": 1213
  },
  "port": "200"
}
```

查找失败：

```
{
  "msg": "无此订单"
  "port": "500"
}
```



##### 订单查询(根据用户id)

请求地址：http://~:8085/goods_order/findAllByUserId

请求参数：

| 变量名  | 说明   | 是否允许为空 |
| ------- | ------ | ------------ |
| user_id | 用户id | 否           |

查找成功：

```
{
  "data": [
    {
      "id": 1,
      "userId": 1,
      "goodsId": 3,
      "merchantId": 1,
      "userAddressId": 123,
      "merchantAddressId": 33,
      "orderStatus": 10,
      "goodsNum": 3,
      "goodsTotalPrice": 3,
      "receivingTime": "2018-05-26T10:36:48.000+00:00",
      "leaseTime": 123,
      "deposit": 1213
    }
  ],
  "port": "200"
}
```

查找失败：

```
{
  "msg": "该用户尚未订单"
  "port": "500"
}
```



##### 订单查询(根据商户id)

请求地址：http://~:8085/goods_order/findAllByMerchantId

请求参数：

| 变量名      | 说明   | 是否允许为空 |
| ----------- | ------ | ------------ |
| merchant_id | 商家id | 否           |

查找成功：

```
{
  "data": [
    {
      "id": 1,
      "userId": 1,
      "goodsId": 3,
      "merchantId": 1,
      "userAddressId": 123,
      "merchantAddressId": 33,
      "orderStatus": 10,
      "goodsNum": 3,
      "goodsTotalPrice": 3,
      "receivingTime": "2018-05-26T10:36:48.000+00:00",
      "leaseTime": 123,
      "deposit": 1213
    }
  ],
  "port": "200"
}
```

查找失败：

```
{
  "msg": "该用户尚无订单"
  "port": "500"
}
```



##### 订单查询(根据商品id)

请求地址：http://~:8085/goods_order/findAllByGoodsId

请求参数：

| 变量名      | 说明   | 是否允许为空 |
| ----------- | ------ | ------------ |
| merchant_id | 商家id | 否           |

查找成功

```
{
  "data": [
    {
      "id": 1,
      "userId": 1,
      "goodsId": 3,
      "merchantId": 1,
      "userAddressId": 123,
      "merchantAddressId": 33,
      "orderStatus": 10,
      "goodsNum": 3,
      "goodsTotalPrice": 3,
      "receivingTime": "2018-05-26T10:36:48.000+00:00",
      "leaseTime": 123,
      "deposit": 1213
    }
  ],
  "port": "200"
}
```

查找失败

```
{
  "msg": "尚无此类商品订单"
  "port": "500"
}
```



### 订单评论

##### 增加订单评论

请求地址：http://localhost:8085/comment_statistic/add

请求参数：

| 变量名         | 说明            | 是否允许为空 |
| -------------- | --------------- | ------------ |
| content        | 评价内容        | 否           |
| des_star       | 评价星级 1~5    | 否           |
| logistics_star | 物流星级 1~5    | 否           |
| attitude_star  | 服务态度星级1~5 | 否           |
| rate           | 综合评价        | 否           |
| order_id       | 订单号          | 否           |

增加成功：

```
{
  "port": "200"
}
```

增加失败：

```
{
  "msg": "增加异常"
  "port": "500"
}
```





### 售后表

##### 增加售后表单

请求地址：http://~:8085/aftersale/add

请求参数：

| 变量名       | 说明                           | 是否允许为空 |
| ------------ | ------------------------------ | ------------ |
| order_id     | 订单id                         | 否           |
| goods_status | 货物状态 0:已收到货 1:未收到货 | 否           |
| reason       | 退货理由                       | 是           |

添加成功：

```
{
  "port": "200"
}
```

添加失败：

```
{
  "msg": "添加异常"
  "port": "500"
}
```





##### 修改售后表单

请求地址：http://~:8085/aftersale/modifyAftersales

请求参数：

| 变量名            | 说明                                | 是否允许为空 |
| ----------------- | ----------------------------------- | ------------ |
| id                | 售后单id                            | 否           |
| processing_status | 售后处理状态 -1拒绝 0未处理 1已同意 | 否           |
| feedback          | 商家回复理由                        | 是           |

修改成功：

```
{
  "port": "200"
}
```

修改失败：

```
{
  "msg": "添加异常"
  "port": "500"
}
```



##### 查询售后表单(根据商家id)

请求地址：http://~:8085/aftersale/findByMerchantId

请求参数：

| 变量名      | 说明   | 是否允许为空 |
| ----------- | ------ | ------------ |
| merchant_id | 商家id | 否           |

查询成功：

```
{
  "data": [
    {
      "id": 1,
      "orderId": 1,
      "goodsStatus": 1,
      "reason": "1",
      "processingStatus": 1,
      "feedback": "1"
    }
  ],
  "port": "200"
}
```

查询失败：

```
{
  "msg": "无此商家记录",
  "port": "500"
}
```



##### 查询售后表单(根据商家id)

请求地址：http://~:8085/aftersale/findByMerchantId

请求参数：

| 变量名  | 说明   | 是否允许为空 |
| ------- | ------ | ------------ |
| user_id | 用户id | 否           |

查询成功：

```
{
  "data": [
    {
      "id": 1,
      "orderId": 1,
      "goodsStatus": 1,
      "reason": "1",
      "processingStatus": 1,
      "feedback": "1"
    }
  ],
  "port": "200"
}
```

查询失败：

```
{
  "msg": "无此用户记录",
  "port": "500"
}
```







## 商家相关

### 商家

##### 商户添加

请求地址：http://~:8085/merchant/add

请求参数：

| 变量名        | 说明                 | 是否允许为空 |
| ------------- | -------------------- | ------------ |
| account       | 用户账号即注册手机号 | 否           |
| password      | 登录密码             | 否           |
| merchant_name | 用户名               | 否           |

注册成功返回数据：

```
{
  "data": {
    "id": 8,
    "account": "123",
    "password": "202cb962ac59075b964b07152d234b70",
    "merchantName": "123",
    "balance": 0,
    "adminFlag": 0
  },
  "port": "200"
}
```

账户已存在返回数据：

```
{
  "msg": "该账户已存在",
  "port": "400"
}
```

注册失败返回数据：

```
{
  "msg": "添加异常",
  "port": "500"
}
```



##### 商户登录

请求地址：http://~:8085/merchant/login

请求参数：

| 变量名   | 说明     | 是否允许为空 |
| -------- | -------- | ------------ |
| account  | 用户账户 | 否           |
| password | 用户密码 | 否           |

登录成功返回数据：

```
{
  "data": {
    "id": 8,
    "account": "123",
    "password": "202cb962ac59075b964b07152d234b70",
    "merchantName": "123",
    "balance": 0,
    "adminFlag": 0
  },
  "port": "200"
}
```

无该账户注册信息返回数据：

```
{
  "msg": "无该用户",
  "port": "500"
}
```

密码错误返回数据：

```
{
  "msg": "密码错误",
  "port": "400"
}
```



##### 商户信息修改

请求地址：http://~:8085/user/modifyInfo

请求参数：

| 变量名        | 说明   | 是否允许为空 |
| ------------- | ------ | ------------ |
| id            | 用户id | 否           |
| merchant_name | 用户名 | 否           |

修改成功返回数据：

```
{
  "port": "200"
}
```

修改失败返回数据：

```
{
  "msg": "修改异常",
  "port": "500"
}
```



##### 商户密码修改

请求地址：http://~:8085/merchant/modifyPassword

请求参数：

| 变量名   | 说明         | 是否允许为空 |
| -------- | ------------ | ------------ |
| id       | 用户id       | 否           |
| password | 修改后的密码 | 否           |

修改成功返回数据：

```
{
  "port": "200"
}
```

修改失败返回数据：

```
{
  "msg": "修改异常",
  "port": "500"
}
```



##### 商户余额修改

请求地址：http://~:8085/merchant/modifyBalance

请求参数：

| 变量名     | 说明       | 是否允许为空 |
| ---------- | ---------- | ------------ |
| id         | 用户id     | 否           |
| difBalance | 余额更改值 | 否           |

修改成功返回数据：

```
{
  "port": "200"
}
```

修改失败返回数据：

```
{
  "msg": "余额不足",
  "port": "400"
}
```



##### 商户账户注销

请求地址：http://~:8085/user/deletebyid

请求参数：

| 变量名 | 说明   | 是否允许为空 |
| ------ | ------ | ------------ |
| id     | 用户id | 否           |

删除成功返回数据：

```
{
  "port": "200"
}
```



### 商户地址

##### 商户地址添加

请求地址：http://~:8085/merchant_address/add

| 变量名       | 说明                      | 是否允许为空 |
| ------------ | ------------------------- | ------------ |
| merchant_id  | 用户id                    | 否           |
| prov         | 省份                      | 否           |
| city         | 城市                      | 否           |
| area         | 区                        | 否           |
| detail       | 详细地址                  | 否           |
| name         | 收货人姓名                | 否           |
| tel          | 收货人联系号码            | 否           |
| address_code | 地址编号(前端api接口所需) | 否           |

添加成功返回数据：

```
{
  "port": "200"
}
```

添加失败返回数据：

```
{
  "port": "500"
  “msg”: "添加异常"
}
```



##### 商户地址修改

请求地址：http://~:8085/merchant_address/modify

| 变量名       | 说明                      | 是否允许为空 |
| ------------ | ------------------------- | ------------ |
| merchant_id  | 用户id                    | 否           |
| id           | 地址id                    | 否           |
| prov         | 省份                      | 否           |
| city         | 城市                      | 否           |
| area         | 区                        | 否           |
| detail       | 详细地址                  | 否           |
| name         | 收货人姓名                | 否           |
| tel          | 收货人联系号码            | 否           |
| address_code | 地址编号(前端api接口所需) | 否           |

修改成功返回数据：

```
{
  "port": "200"
}
```

修改失败返回数据：

```
{
  "port": "500"
  “msg”: "添加异常"
}
```



##### 商户默认地址修改

请求地址：http://~:8085/merchant_address/modifyDefault

请求参数：

| 变量名      | 说明               | 是否允许为空 |
| ----------- | ------------------ | ------------ |
| id          | 修改后的默认地址id | 否           |
| merchant_id | 用户id             | 否           |

修改成功返回数据：

```
{
  "port": "200"
}
```

修改失败返回数据：

```
{
  "port": "500"
  “msg”: "添加异常"
}
```



##### 商户地址查找(根据id查找)

请求地址：http://~:8085/merchant_address/findById

请求参数：

| 变量名 | 说明   | 是否允许为空 |
| ------ | ------ | ------------ |
| id     | 地址id | 否           |

查找成功返回数据：

```
{
  "data": {
    "id": 1,
    "userId": 1,
    "prov": "123",
    "city": "123",
    "area": "123",
    "detail": "123",
    "name": "123",
    "tel": "123",
    "isDefault": 0,
    "addressCode": ""
  },
  "port": "200"
}
```

查找失败返回数据：

```
{
  "port": "500"
  “msg”: "无此地址"
}
```



##### 商户地址查询(根据用户id)

请求地址：http://~:8085/merchant_address/findAllByMerchantId

请求参数：

| 变量名      | 说明   | 是否允许为空 |
| ----------- | ------ | ------------ |
| merchant_id | 商户id | 否           |

查找成功返回数据(默认地址排在首位)：

```
{
  "data": [
    {
      "id": 6,
      "merchantId": 5,
      "prov": "浙江省",
      "city": "杭州市",
      "area": "上城区",
      "detail": "33",
      "name": "qq1",
      "tel": "11111111111",
      "isDefault": 0,
      "addressCode": "330102"
    }
  ],
  "port": "200"
}
```

查找失败返回数据：

```
{
  "msg": "该用户尚未添加地址",
  "port": "500"
}
```



##### 商户地址删除

请求地址：http://~:8085/merchant_address/deletebyid

请求参数：

| 变量名 | 说明   | 是否允许为空 |
| ------ | ------ | ------------ |
| id     | 地址id | 否           |

查找成功返回数据(默认地址排在首位)：

```
{
  "port": "200"
}
```

查找失败返回数据：

```
{
  "msg": "删除异常",
  "port": "500"
}
```

